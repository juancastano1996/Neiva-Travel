import { Component, OnInit } from '@angular/core';
import { Geolocation } from '@ionic-native/geolocation/ngx';
import { ActivatedRoute } from '@angular/router';
import { HttpClient } from '@angular/common/http';
import { ProveedorService } from '../proveedor/proveedor.service';
import { NavController } from '@ionic/angular';
import { environment } from '../../environments/environment';

const URL = environment.url;

declare var mapboxgl: any;
declare var MapboxGeocoder: any;

@Component({
  selector: 'app-rutabiodiversidad',
  templateUrl: './rutabiodiversidad.page.html',
  styleUrls: ['./rutabiodiversidad.page.scss'],
})
export class RutabiodiversidadPage implements OnInit {

  activatedRoute: any;
  items: any;

  ionViewWillEnter():void{
    this.geolocation.watchPosition();
  }
 

  constructor(private geolocation: Geolocation,activatedRoute: ActivatedRoute, private http: HttpClient, private proveedorService: ProveedorService, public navCtrl:NavController){}
  
  lat = 0.0;
  lng = 0.0;

  informacion = null;

 
  ngOnInit() {
  
  
  mapboxgl.accessToken = 'pk.eyJ1IjoianVhbmNhc3Rhbm8xOTk2IiwiYSI6ImNqeHcwamtxazBhb2IzZHM1aDM1MjU3NXgifQ.jOYskU4ZN3f1oBuL4QORZg';

  this.geolocation.getCurrentPosition().then((resp) => {
    // resp.coords.latitude
    // resp.coords.longitude

    this.lat = parseFloat(`${ resp.coords.latitude }`); 
    this.lng = parseFloat(`${ resp.coords.longitude }`);

    // const coords = `${ resp.coords.latitude },${resp.coords.longitude}`;
    
  
  var map = new mapboxgl.Map({
    
    container: 'map4',
    style: 'mapbox://styles/mapbox/streets-v11',
    center: [ -75.27623891830444, 2.9316832856557142 ],
    zoom: 12
    });

    map.addControl(new mapboxgl.NavigationControl());

    
    map.addControl(new mapboxgl.GeolocateControl({
      positionOptions: {
        enableHighAccuracy: true,
        timeout: 3
      },
        trackUserLocation: true
    }))

    map.on('load', function() {
      map.addLayer({
        'id': 'lines',
        'type': 'line',
        'source': {
          'type': 'geojson',
          'data': {
            'type': 'FeatureCollection',
            'features': [{
              'type': 'Feature',
              'properties': {
                'color': '#45f754' // verde
              },
              'geometry': {
                'type': 'LineString',
                'coordinates': [
                  [
                    -75.27623891830444,
                    2.9316832856557142
                  ],
                  [
                    -75.27535915374756,
                    2.932154736512449
                  ],
                  [
                    -75.27402877807617,
                    2.932433321016232
                  ],
                  [
                    -75.27276277542114,
                    2.932240454828694
                  ],
                  [
                    -75.27164697647095,
                    2.9318118631817973
                  ],
                  [
                    -75.26950120925903,
                    2.9310403978036392
                  ],
                  [
                    -75.26817083358765,
                    2.930933249792376
                  ],
                  [
                    -75.26308536529541,
                    2.9302260726607883
                  ],
                  [
                    -75.25795698165894,
                    2.931426130559198
                  ],
                  [
                    -75.25720596313477,
                    2.9316832856557142
                  ],
                  [
                    -75.25508165359497,
                    2.9318118631817973
                  ],
                  [
                    -75.25169134140015,
                    2.9323904618663024
                  ],
                  [
                    -75.2491807937622,
                    2.9330976376298064
                  ],
                  [
                    -75.24606943130492,
                    2.9339548197738674
                  ],
                  [
                    -75.24282932281494,
                    2.9351548736713045
                  ],
                  [
                    -75.23748636245728,
                    2.937404971255026
                  ],
                  [
                    -75.23699283599854,
                    2.9375978365512707
                  ],
                  [
                    -75.23654222488403,
                    2.9376406955014738
                  ],
                  [
                    -75.2328085899353,
                    2.937340682815549
                  ],
                  [
                    -75.22716522216797,
                    2.9367835161849642
                  ],
                  [
                    -75.2203631401062,
                    2.936247778778065
                  ],
                  [
                    -75.21281003952026,
                    2.935604893550622
                  ],
                  [
                    -75.20950555801392,
                    2.935304880317883
                  ],
                  [
                    -75.20793914794922,
                    2.9351334441487236
                  ],
                  [
                    -75.20723104476929,
                    2.9351763031934786
                  ],
                  [
                    -75.20660877227782,
                    2.935304880317883
                  ],
                  [
                    -75.20592212677,
                    2.9351548736713045
                  ],
                  [
                    -75.2047848701477,
                    2.935604893550622
                  ],
                  [
                    -75.20366907119751,
                    2.936312067280454
                  ],
                  [
                    -75.20328283309937,
                    2.936719227709712
                  ],
                  [
                    -75.20240306854248,
                    2.9372763943723563
                  ],
                  [
                    -75.20190954208374,
                    2.937704983923687
                  ],
                  [
                    -75.20122289657593,
                    2.9379621375755063
                  ],
                  [
                    -75.2003002166748,
                    2.938112143845049
                  ],
                  [
                    -75.1990556716919,
                    2.938026425979196
                  ],
                  [
                    -75.19768238067627,
                    2.9375121186459405
                  ],
                  [
                    -75.19583702087402,
                    2.9375335481228997
                  ],
                  [
                    -75.1949143409729,
                    2.9372763943723563
                  ],
                  [
                    -75.19414186477661,
                    2.9364406442741506
                  ],
                  [
                    -75.19386291503906,
                    2.935519175492333
                  ],
                  [
                    -75.19420623779297,
                    2.934876289845667
                  ],
                  [
                    -75.19418478012085,
                    2.9346191354834392
                  ],
                  [
                    -75.19392728805542,
                    2.934490558280144
                  ],
                  [
                    -75.19366979598999,
                    2.9346191354834392
                  ],
                  [
                    -75.19336938858032,
                    2.934897719373184
                  ],
                  [
                    -75.19319772720337,
                    2.9350905851023277
                  ],
                  [
                    -75.19287586212158,
                    2.9351763031934786
                  ],
                  [
                    -75.19259691238403,
                    2.935197732715245
                  ],
                  [
                    -75.19221067428589,
                    2.935112014625723
                  ],
                  [
                    -75.19184589385986,
                    2.934983437479131
                  ],
                  [
                    -75.1914596557617,
                    2.9347262831415586
                  ],
                  [
                    -75.19113779067992,
                    2.93438341059943
                  ],
                  [
                    -75.19090175628662,
                    2.9340619674956616
                  ],
                  [
                    -75.19064426422119,
                    2.9337619538487507
                  ],
                  [
                    -75.19021511077881,
                    2.9336548060981915
                  ],
                  [
                    -75.1897644996643,
                    2.9335905174429455
                  ],
                  [
                    -75.18922805786133,
                    2.9335262287839714
                  ],
                  [
                    -75.18851995468138,
                    2.933397651454981
                  ],
                  [
                    -75.18781185150146,
                    2.9330976376298064
                  ],
                  [
                    -75.18738269805908,
                    2.9327976237241513
                  ],
                  [
                    -75.18699645996094,
                    2.9327333350196065
                  ],
                  [
                    -75.18635272979736,
                    2.9326047575994485
                  ],
                  [
                    -75.18555879592894,
                    2.9325618984560964
                  ],
                  [
                    -75.18491506576538,
                    2.9325190393111162
                  ],
                  [
                    -75.1839280128479,
                    2.93234760271477
                  ],
                  [
                    -75.18313407897949,
                    2.932433321016232
                  ],
                  [
                    -75.18206119537354,
                    2.9321333069323634
                  ],
                  [
                    -75.18113851547241,
                    2.9318547223538762
                  ],
                  [
                    -75.18004417419434,
                    2.931511848931281
                  ],
                  [
                    -75.1770830154419,
                    2.9306975241314976
                  ],
                  [
                    -75.17493724822998,
                    2.929968917229449
                  ],
                  [
                    -75.17463684082031,
                    2.9297760506171673
                  ],
                  [
                    -75.17448663711548,
                    2.9292831691237287
                  ],
                  [
                    -75.17433643341064,
                    2.9285545613012403
                  ],
                  [
                    -75.17418622970581,
                    2.9278259530047475
                  ],
                  [
                    -75.17356395721436,
                    2.9273973596677934
                  ],
                  [
                    -75.17302751541138,
                    2.9270330552024775
                  ],
                  [
                    -75.17210483551025,
                    2.9265830318759347
                  ],
                  [
                    -75.17088174819946,
                    2.926304445916552
                  ],
                  [
                    -75.16959428787231,
                    2.9260472895848997
                  ],
                  [
                    -75.16691207885742,
                    2.925490117330624
                  ],
                  [
                    -75.16384363174437,
                    2.9248686556434182
                  ],
                  [
                    -75.16309261322021,
                    2.924482920629856
                  ],
                  [
                    -75.16257762908936,
                    2.923111417285105
                  ],
                  [
                    -75.16238451004028,
                    2.9216970527050496
                  ],
                  [
                    -75.16227722167969,
                    2.9209898697467622
                  ],
                  [
                    -75.16242742538452,
                    2.920325545955986
                  ],
                  [
                    -75.16238451004028,
                    2.919982669007008
                  ],
                  [
                    -75.16208410263062,
                    2.919811230493258
                  ],
                  [
                    -75.16154766082762,
                    2.919832660308908
                  ],
                  [
                    -75.16071081161499,
                    2.920196967112377
                  ],
                  [
                    -75.16010999679565,
                    2.920882720774819
                  ],
                  [
                    -75.15950918197632,
                    2.9212898868137613
                  ],
                  [
                    -75.15899419784546,
                    2.9217184824847084
                  ],
                  [
                    -75.15888690948486,
                    2.9222542268432954
                  ],
                  [
                    -75.15860795974731,
                    2.9222542268432954
                  ],
                  [
                    -75.1581358909607,
                    2.9221470779920353
                  ],
                  [
                    -75.15770673751831,
                    2.922168507763094
                  ],
                  [
                    -75.15723466873169,
                    2.9224685245151294
                  ],
                  [
                    -75.15671968460083,
                    2.9225756733357033
                  ],
                  [
                    -75.15624761581421,
                    2.9225542435724052
                  ],
                  [
                    -75.1557970046997,
                    2.9223828054513015
                  ],
                  [
                    -75.15547513961792,
                    2.922189937533758
                  ],
                  [
                    -75.15502452850342,
                    2.922189937533758
                  ],
                  [
                    -75.15459537506104,
                    2.9222327970738653
                  ],
                  [
                    -75.15425205230713,
                    2.9222756566123183
                  ],
                  [
                    -75.15390872955322,
                    2.922082788676366
                  ],
                  [
                    -75.15347957611084,
                    2.922104218448671
                  ],
                  [
                    -75.15302896499634,
                    2.922189937533758
                  ],
                  [
                    -75.15283584594727,
                    2.9221256482205566
                  ],
                  [
                    -75.15268564224243,
                    2.921868490930896
                  ],
                  [
                    -75.15257835388184,
                    2.921589903800611
                  ],
                  [
                    -75.15227794647217,
                    2.921675622924984
                  ],
                  [
                    -75.15214920043945,
                    2.9220184993570197
                  ],
                  [
                    -75.15221357345581,
                    2.9223613756843267
                  ],
                  [
                    -75.1525354385376,
                    2.92274711142733
                  ],
                  [
                    -75.15270709991455,
                    2.9230685577785596
                  ],
                  [
                    -75.15270709991455,
                    2.923261425545103
                  ],
                  [
                    -75.15249252319336,
                    2.9231542767899974
                  ],
                  [
                    -75.15229940414429,
                    2.923025698270385
                  ],
                  [
                    -75.15202045440672,
                    2.922811400704947
                  ],
                  [
                    -75.1508617401123,
                    2.9215684740184966
                  ],
                  [
                    -75.1504111289978,
                    2.9210755889169477
                  ],
                  [
                    -75.1499605178833,
                    2.920947010159214
                  ],
                  [
                    -75.14966011047363,
                    2.9207970015899267
                  ],
                  [
                    -75.14944553375244,
                    2.920346975761827
                  ],
                  [
                    -75.14933824539185,
                    2.919404063918265
                  ],
                  [
                    -75.14935970306396,
                    2.917732536432732
                  ],
                  [
                    -75.1496171951294,
                    2.9160610064617614
                  ],
                  [
                    -75.14957427978516,
                    2.915632408633113
                  ],
                  [
                    -75.14929533004761,
                    2.9147966423976377
                  ],
                  [
                    -75.14920949935913,
                    2.914410903925744
                  ],
                  [
                    -75.14893054962158,
                    2.9141108850228523
                  ],
                  [
                    -75.14843702316284,
                    2.91408945509816
                  ],
                  [
                    -75.1480722427368,
                    2.914003735395295
                  ],
                  [
                    -75.14757871627808,
                    2.9140251653216285
                  ],
                  [
                    -75.14721393585205,
                    2.9141751747944857
                  ],
                  [
                    -75.14691352844238,
                    2.9140251653216285
                  ],
                  [
                    -75.1468276977539,
                    2.913746576247554
                  ],
                  [
                    -75.14691352844238,
                    2.913360837415787
                  ],
                  [
                    -75.14697790145874,
                    2.9129750984518616
                  ],
                  [
                    -75.14687061309814,
                    2.912503639538705
                  ],
                  [
                    -75.1469349861145,
                    2.9120536103920274
                  ],
                  [
                    -75.14702081680298,
                    2.91179645079892
                  ],
                  [
                    -75.14669895172119,
                    2.9114107112991854
                  ],
                  [
                    -75.14652729034424,
                    2.9105963719215584
                  ],
                  [
                    -75.14654874801636,
                    2.9095677318666135
                  ],
                  [
                    -75.14639854431152,
                    2.909160561585562
                  ],
                  [
                    -75.14616250991821,
                    2.908774821183644
                  ],
                  [
                    -75.14579772949219,
                    2.9083890806497714
                  ],
                  [
                    -75.14543294906615,
                    2.9078747597327106
                  ],
                  [
                    -75.1450252532959,
                    2.9076175991862376
                  ],
                  [
                    -75.14444589614867,
                    2.907639029234017
                  ],
                  [
                    -75.14367341995239,
                    2.9079390498601847
                  ],
                  [
                    -75.1430082321167,
                    2.9081319202205593
                  ],
                  [
                    -75.14268636703491,
                    2.908217640370152
                  ],
                  [
                    -75.14217138290405,
                    2.9079604799018446
                  ],
                  [
                    -75.14169931411743,
                    2.9078747597327106
                  ],
                  [
                    -75.14129161834717,
                    2.90808906014332
                  ],
                  [
                    -75.14081954956053,
                    2.9081533502585684
                  ],
                  [
                    -75.14039039611816,
                    2.908046200064465
                  ],
                  [
                    -75.14028310775757,
                    2.9077461794668085
                  ],
                  [
                    -75.14034748077393,
                    2.9073818686338058
                  ],
                  [
                    -75.13993978500366,
                    2.9070175576831607
                  ],
                  [
                    -75.13961791992188,
                    2.9076604592813897
                  ],
                  [
                    -75.13940334320068,
                    2.90823907040652
                  ],
                  [
                    -75.13888835906982,
                    2.9085176608423806
                  ],
                  [
                    -75.13843774795532,
                    2.908667671048585
                  ],
                  [
                    -75.13792276382446,
                    2.9085819509331894
                  ],
                  [
                    -75.1375150680542,
                    2.9087962512094268
                  ],
                  [
                    -75.13704299926758,
                    2.909503441832012
                  ],
                  [
                    -75.13644218444824,
                    2.9099534719972304
                  ],
                  [
                    -75.1360559463501,
                    2.910339211995841
                  ],
                  [
                    -75.13577699661255,
                    2.9105106519528374
                  ],
                  [
                    -75.1356053352356,
                    2.910939251731242
                  ],
                  [
                    -75.13558387756348,
                    2.9114107112991854
                  ],
                  [
                    -75.135498046875,
                    2.9119464605687138
                  ],
                  [
                    -75.13532638549805,
                    2.9121179002811384
                  ],
                  [
                    -75.13498306274414,
                    2.912139330243361
                  ],
                  [
                    -75.13457536697386,
                    2.9121607602051762
                  ],
                  [
                    -75.13423204421997,
                    2.912182190166572
                  ],
                  [
                    -75.13391017913817,
                    2.912610789309031
                  ],
                  [
                    -75.13354539871216,
                    2.913296547597641
                  ],
                  [
                    -75.13315916061401,
                    2.91396087554142
                  ],
                  [
                    -75.13279438018799,
                    2.914410903925744
                  ],
                  [
                    -75.13251543045044,
                    2.914903791949701
                  ],
                  [
                    -75.1323652267456,
                    2.9152466704477367
                  ],
                  [
                    -75.1319146156311,
                    2.915310960154487
                  ],
                  [
                    -75.131356716156,
                    2.915289530252631
                  ],
                  [
                    -75.13082027435303,
                    2.915353819956939
                  ],
                  [
                    -75.1303482055664,
                    2.915482399354524
                  ],
                  [
                    -75.13002634048462,
                    2.9155038292526774
                  ],
                  [
                    -75.12972593307495,
                    2.915139520928331
                  ],
                  [
                    -75.12936115264893,
                    2.9150109414915613
                  ],
                  [
                    -75.12908220291138,
                    2.9148609321301
                  ],
                  [
                    -75.12901782989502,
                    2.9146680629216966
                  ],
                  [
                    -75.12921094894409,
                    2.9143680440873645
                  ],
                  [
                    -75.12914657592773,
                    2.9138751558287717
                  ],
                  [
                    -75.12914657592773,
                    2.913510846977178
                  ],
                  [
                    -75.12914657592773,
                    2.9130822481773158
                  ],
                  [
                    -75.12901782989502,
                    2.9128465187678354
                  ],
                  [
                    -75.12912511825562,
                    2.9123107699264352
                  ],
                  [
                    -75.12921094894409,
                    2.911817880767249
                  ],
                  [
                    -75.12899637222289,
                    2.9116035810655596
                  ],
                  [
                    -75.12869596481323,
                    2.911346421369707
                  ],
                  [
                    -75.12839555740356,
                    2.9113249913924086
                  ],
                  [
                    -75.12811660766602,
                    2.9111964115200304
                  ],
                  [
                    -75.1278805732727,
                    2.910917821746183
                  ],
                  [
                    -75.12762308120728,
                    2.910917821746183
                  ],
                  [
                    -75.12734413146971,
                    2.910789241827343
                  ],
                  [
                    -75.12706518173218,
                    2.9109606817158684
                  ],
                  [
                    -75.12676477432251,
                    2.911153551559301
                  ],
                  [
                    -75.12657165527344,
                    2.9114321412748554
                  ],
                  [
                    -75.12635707855223,
                    2.9117535908610273
                  ],
                  [
                    -75.12609958648682,
                    2.911839310735184
                  ],
                  [
                    -75.12577772140503,
                    2.9117321608914764
                  ],
                  [
                    -75.12537002563475,
                    2.9117535908610273
                  ],
                  [
                    -75.12476921081543,
                    2.9116893009511284
                  ],
                  [
                    -75.1244044303894,
                    2.911860740702712
                  ],
                  [
                    -75.12408256530762,
                    2.912289339967482
                  ],
                  [
                    -75.12386798858643,
                    2.9125679294021167
                  ],
                  [
                    -75.1235032081604,
                    2.9125464994480494
                  ],
                  [
                    -75.12311697006226,
                    2.912503639538705
                  ],
                  [
                    -75.12266635894775,
                    2.9124179197151063
                  ],
                  [
                    -75.12228012084961,
                    2.9125679294021167
                  ],
                  [
                    -75.12200117111206,
                    2.9125464994480494
                  ],
                  [
                    -75.12176513671874,
                    2.912267910008122
                  ],
                  [
                    -75.12135744094849,
                    2.9121607602051762
                  ],
                  [
                    -75.12101411819458,
                    2.9123107699264352
                  ],
                  [
                    -75.12090682983398,
                    2.912889378664152
                  ],
                  [
                    -75.12073516845703,
                    2.913167967950331
                  ],
                  [
                    -75.12039184570312,
                    2.913617996651642
                  ],
                  [
                    -75.12017726898193,
                    2.9141108850228523
                  ],
                  [
                    -75.1200270652771,
                    2.914646633007602
                  ],
                  [
                    -75.11987686157227,
                    2.91481807230887
                  ],
                  [
                    -75.11959791183472,
                    2.9147752124860116
                  ],
                  [
                    -75.11925458908081,
                    2.914732352661512
                  ],
                  [
                    -75.11906147003174,
                    2.915160950833011
                  ],
                  [
                    -75.11899709701538,
                    2.915482399354524
                  ],
                  [
                    -75.11882543563843,
                    2.915482399354524
                  ],
                  [
                    -75.1186752319336,
                    2.915203810641201
                  ],
                  [
                    -75.118567943573,
                    2.914989511584006
                  ],
                  [
                    -75.11833190917969,
                    2.9150538013054508
                  ],
                  [
                    -75.11816024780273,
                    2.9152681003503935
                  ],
                  [
                    -75.1181173324585,
                    2.9155681189447336
                  ],
                  [
                    -75.1177954673767,
                    2.9156109787374023
                  ],
                  [
                    -75.1174521446228,
                    2.915632408633113
                  ],
                  [
                    -75.11708736419678,
                    2.9155895488412713
                  ],
                  [
                    -75.1164436340332,
                    2.9156966983178156
                  ],
                  [
                    -75.11595010757446,
                    2.9158895673499017
                  ],
                  [
                    -75.11515617370605,
                    2.91636102484462
                  ],
                  [
                    -75.11492013931274,
                    2.9165538937627784
                  ],
                  [
                    -75.11492013931274,
                    2.9167253327733813
                  ],
                  [
                    -75.11524200439453,
                    2.916618183394811
                  ],
                  [
                    -75.11569261550903,
                    2.916403884607073
                  ],
                  [
                    -75.11612176895142,
                    2.916403884607073
                  ],
                  [
                    -75.11698007583618,
                    2.916596753517891
                  ],
                  [
                    -75.11777400970459,
                    2.916768192521942
                  ],
                  [
                    -75.11794567108154,
                    2.9170682107161556
                  ],
                  [
                    -75.11788129806519,
                    2.917282509377282
                  ],
                  [
                    -75.11803150177002,
                    2.9174753781373925
                  ],
                  [
                    -75.11833190917969,
                    2.917689676720926
                  ],
                  [
                    -75.11839628219604,
                    2.9179254051156316
                  ],
                  [
                    -75.11826753616333,
                    2.9181182737654274
                  ],
                  [
                    -75.11794567108154,
                    2.9183111423821457
                  ],
                  [
                    -75.11773109436035,
                    2.9186111601645663
                  ],
                  [
                    -75.11768817901611,
                    2.9191469060054063
                  ],
                  [
                    -75.11764526367188,
                    2.919404063918265
                  ],
                  [
                    -75.1174521446228,
                    2.9193397744455654
                  ],
                  [
                    -75.11730194091797,
                    2.9188040286966945
                  ],
                  [
                    -75.11676549911499,
                    2.9185254408063335
                  ],
                  [
                    -75.11631488800049,
                    2.9185040109657483
                  ],
                  [
                    -75.11595010757446,
                    2.9186754496789566
                  ],
                  [
                    -75.11558532714844,
                    2.9190611866880243
                  ],
                  [
                    -75.11513471603394,
                    2.9194469235646916
                  ],
                  [
                    -75.11474847793579,
                    2.9198969497534026
                  ],
                  [
                    -75.11406183242798,
                    2.92053984399595
                  ],
                  [
                    -75.11328935623169,
                    2.9211613080805816
                  ],
                  [
                    -75.11273145675659,
                    2.921911350483267
                  ],
                  [
                    -75.11245250701904,
                    2.9221256482205566
                  ],
                  [
                    -75.11230230331421,
                    2.9225328138087
                  ],
                  [
                    -75.11174440383911,
                    2.9230685577785596
                  ],
                  [
                    -75.11114358901978,
                    2.9232828552948895
                  ],
                  [
                    -75.11086463928223,
                    2.923518582515576
                  ],
                  [
                    -75.11047840118408,
                    2.9231757065418327
                  ],
                  [
                    -75.11034965515137,
                    2.9223828054513015
                  ],
                  [
                    -75.1103925704956,
                    2.9216970527050496
                  ],
                  [
                    -75.11045694351196,
                    2.921439895317224
                  ],
                  [
                    -75.11032819747925,
                    2.9211613080805816
                  ],
                  [
                    -75.11024236679076,
                    2.92053984399595
                  ],
                  [
                    -75.11013507843018,
                    2.920175537303686
                  ],
                  [
                    -75.10996341705322,
                    2.919789800677201
                  ],
                  [
                    -75.1097059249878,
                    2.9194254937416755
                  ],
                  [
                    -75.10912656784058,
                    2.9185683004862706
                  ],
                  [
                    -75.10919094085693,
                    2.9181611334608855
                  ],
                  [
                    -75.10891199111938,
                    2.9176039572924157
                  ],
                  [
                    -75.10871887207031,
                    2.917089640584094
                  ],
                  [
                    -75.10852575302124,
                    2.9165753236405254
                  ],
                  [
                    -75.10816097259521,
                    2.9164467443678976
                  ],
                  [
                    -75.10779619216919,
                    2.916596753517891
                  ],
                  [
                    -75.107581615448,
                    2.916618183394811
                  ],
                  [
                    -75.1073670387268,
                    2.9163824547260564
                  ],
                  [
                    -75.10725975036621,
                    2.9161681558933963
                  ],
                  [
                    -75.10693788528442,
                    2.916125296121961
                  ],
                  [
                    -75.10659456253052,
                    2.916125296121961
                  ],
                  [
                    -75.10627269744873,
                    2.91636102484462
                  ],
                  [
                    -75.10592937469482,
                    2.916746762647872
                  ],
                  [
                    -75.10524272918701,
                    2.9167896223956054
                  ],
                  [
                    -75.10479211807251,
                    2.916811052268874
                  ],
                  [
                    -75.10447025299072,
                    2.9167253327733813
                  ],
                  [
                    -75.10423421859741,
                    2.916596753517891
                  ],
                  [
                    -75.10376214981079,
                    2.9167896223956054
                  ],
                  [
                    -75.10318279266357,
                    2.916896771757828
                  ],
                  [
                    -75.1026678085327,
                    2.9169824912402675
                  ],
                  [
                    -75.10213136672974,
                    2.9170039211098344
                  ],
                  [
                    -75.10168075561522,
                    2.9171325003187873
                  ],
                  [
                    -75.10135889053343,
                    2.917282509377282
                  ],
                  [
                    -75.10129451751709,
                    2.9171110704516376
                  ],
                  [
                    -75.1014232635498,
                    2.916403884607073
                  ],
                  [
                    -75.10133743286133,
                    2.9158467075678436
                  ],
                  [
                    -75.10112285614014,
                    2.915482399354524
                  ],
                  [
                    -75.10110139846802,
                    2.9150323713987096
                  ],
                  [
                    -75.1009726524353,
                    2.914625203093113
                  ],
                  [
                    -75.10075807571411,
                    2.914518053514524
                  ],
                  [
                    -75.10054349899292,
                    2.9143251842473568
                  ],
                  [
                    -75.10035037994385,
                    2.9129536685055415
                  ],
                  [
                    -75.09985685348511,
                    2.9124179197151063
                  ],
                  [
                    -75.09977102279663,
                    2.912096470318521
                  ],
                  [
                    -75.09959936141968,
                    2.9115821510931466
                  ],
                  [
                    -75.09959936141968,
                    2.911024971667356
                  ],
                  [
                    -75.09970664978026,
                    2.910853531788601
                  ],
                  [
                    -75.09970664978026,
                    2.9102963520025176
                  ],
                  [
                    -75.09966373443604,
                    2.909889181984625
                  ],
                  [
                    -75.09947061538696,
                    2.9093748617518034
                  ],
                  [
                    -75.09925603866577,
                    2.9089462613785586
                  ],
                  [
                    -75.09921312332153,
                    2.9085390908730617
                  ],
                  [
                    -75.09944915771484,
                    2.907596169138051
                  ],
                  [
                    -75.09934186935425,
                    2.9071675680888496
                  ],
                  [
                    -75.09932041168213,
                    2.9061817850578113
                  ],
                  [
                    -75.09932041168213,
                    2.9055388826171553
                  ],
                  [
                    -75.09929895401001,
                    2.9050888506908508
                  ],
                  [
                    -75.09906291961669,
                    2.9048745497105024
                  ],
                  [
                    -75.09880542755127,
                    2.904724539000078
                  ],
                  [
                    -75.09848356246948,
                    2.9047673992050864
                  ],
                  [
                    -75.0980544090271,
                    2.9048102594084666
                  ],
                  [
                    -75.09768962860107,
                    2.9047031088969444
                  ],
                  [
                    -75.09717464447021,
                    2.904274506749179
                  ],
                  [
                    -75.09674549102782,
                    2.9040387754985773
                  ],
                  [
                    -75.09646654129028,
                    2.9036958935916872
                  ],
                  [
                    -75.09655237197876,
                    2.9032672910617086
                  ],
                  [
                    -75.09680986404419,
                    2.90277439795123
                  ],
                  [
                    -75.09696006774902,
                    2.902324364923449
                  ],
                  [
                    -75.09674549102782,
                    2.9024529458068113
                  ],
                  [
                    -75.09655237197876,
                    2.9026029568189173
                  ],
                  [
                    -75.09627342224121,
                    2.902581526675543
                  ],
                  [
                    -75.09584426879883,
                    2.902538666387586
                  ],
                  [
                    -75.09552240371704,
                    2.90202434280536
                  ],
                  [
                    -75.0953722000122,
                    2.901638599965089
                  ],
                  [
                    -75.09526491165161,
                    2.9011028458018955
                  ],
                  [
                    -75.09528636932373,
                    2.900824253536694
                  ],
                  [
                    -75.09554386138916,
                    2.9006528121086146
                  ],
                  [
                    -75.09573698043823,
                    2.90039564991777
                  ],
                  [
                    -75.0960373878479,
                    2.9002027782362307
                  ],
                  [
                    -75.09633779525757,
                    2.8997741743817547
                  ],
                  [
                    -75.09657382965088,
                    2.8991526985043135
                  ],
                  [
                    -75.09687423706055,
                    2.898488361843995
                  ],
                  [
                    -75.09687423706055,
                    2.8979311759571877
                  ],
                  [
                    -75.09687423706055,
                    2.8975240014818495
                  ]        
                ] 
              }
            }]
          }
        },
      'paint': {
      'line-width': 3,
      // Use a get expression (https://docs.mapbox.com/mapbox-gl-js/style-spec/#expressions-get)
      // to set the line-color to a feature property value.
      'line-color': ['get', 'color']
      }
    });
  });

  map.on('load', function () {
    // Add a layer showing the places.
    map.addLayer({
      "id": "places",
      "type": "symbol",
      "source": {
        "type": "geojson",
        "data": {
          "type": "FeatureCollection",
          "features": [{
            "type": "Feature",
            "properties": {
              "description": "<strong>Salida</strong><p><strong>El Ceibo</strong> (Calle 8 con cra. 20) </p>",
              "icon": "viewpoint"
            },
            "geometry": {
              "type": "Point",
              "coordinates": [-75.27623891830444, 2.9316832856557142]
            }
          }, {
            "type": "Feature",
            "properties": {
              "description": "<strong>RNSC Monte Heliconia</strong><p><strong>Vereda Platanillal </strong>Km 14</p>",
              "icon": "ranger-station"
            },
            "geometry": {
              "type": "Point",
              "coordinates": [-75.1465916633606, 2.9114107112991854]
            }
          }, {
            "type": "Feature",
            "properties": {
              "description": "<strong>RNSC Veraguas</strong><p><strong>Vereda Santa Lucia </strong>Km 24</p>",
              "icon": "ranger-station"
            },
            "geometry": {
              "type": "Point",
              "coordinates": [-75.11088609695433, 2.923132847037755]
            }
          }, {
            "type": "Feature",
            "properties": {
              "description": "<strong>RNSC Cerro Gordo y La Laguna</strong><p><strong>Vereda Palestina </strong>Km 27</p>",
              "icon": "ranger-station"
            },
            "geometry": {
              "type": "Point",
              "coordinates": [-75.09687423706055, 2.8975240014818495]
            }
          }, {
            "type": "Feature",
            "properties": {
              "description": "<strong>RNSC Terrazas de Loma Escondida</strong><p><strong>Vereda El Centro </strong>Km 4</p>",
              "icon": "ranger-station"
            },
            "geometry": {
              "type": "Point",
              "coordinates": [-75.20617961883545, 2.935454886944322]
            }
          }
        ]
      }
    },
    "layout": {
      "icon-image": "{icon}-15",
      "icon-allow-overlap": true
    }
  });
     
    // When a click event occurs on a feature in the places layer, open a popup at the
    // location of the feature, with description HTML from its properties.
    map.on('click', 'places', function (e) {
    var coordinates = e.features[0].geometry.coordinates.slice();
    var description = e.features[0].properties.description;
     
    // Ensure that if the map is zoomed out such that multiple
    // copies of the feature are visible, the popup appears
    // over the copy being pointed to.
    while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
    coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
    }
     
    new mapboxgl.Popup()
    .setLngLat(coordinates)
    .setHTML(description)
    .addTo(map);
    });
     
    // Change the cursor to a pointer when the mouse is over the places layer.
    map.on('mouseenter', 'places', function () {
    map.getCanvas().style.cursor = 'pointer';
    });
     
    // Change it back to a pointer when it leaves.
    map.on('mouseleave', 'places', function () {
    map.getCanvas().style.cursor = '';
    });
    });

  }).catch((error) => {
    console.log('Error getting location', error);
  });
    
  let watch = this.geolocation.watchPosition();
  watch.subscribe((data) => {
  // data can be a set of coordinates, or an error (if an error occurred).
  // data.coords.latitude
  // data.coords.longitude
  }); }
}
